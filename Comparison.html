<!--?xml version="1.0" encoding="UTF-8"?-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <title>Comparison</title>
  </head>
  <body>
    <h1>Moles vs. JMockit Comparison</h1>
    
    <h2>Implementation</h2>
    <h2>Language Influences &amp; Affinities<br />
    </h2>
    <h2>Ease of Adoption</h2>
    <h2>Miscellaneous Issues</h2>
    <h3>Moles</h3>
    <span style="font-weight: bold;">Generated Moles Type Names Are Unstable<br />
    </span><br />
    When classes with the same name in different namespaces are moled (e.g.,
    MolesTest._1.Dependency vs. MolesTest._2.Dependency), Moles will
    inconsistently add a disambiguating suffix to the generated class name. 
    Initially when relied on namespaces to disambiguate we saw Moles generate
    type names like MolesTest._1.Moles.MDependency for MolesTest._1.Dependency
    and MolesTest._2.Moles.MDependency01 for MolesTest._2.Dependency.   As we
    added more test cases, we saw the suffix assignment occasionally swap.  
    Suddenly MolesTest._1.Moles.MDependency was replaced by
    MolesTest._1.Moles.MDependency01, etc.    Fortunately this broke our build
    outright rather than introduce subtler errors.   To compensate we started
    adding our own disambiguating suffixes to our classes (e.g.,
    MolesTest._1.Dependency01) so Moles wouldn't do its own inconsistent
    disambiguation.<br />
    <h2>Stylistic Considerations<br />
    </h2>
    <h2>Feature Matrix<br />
    </h2>
    <table border="1" style="width: 100%;">
      <tbody>
        <tr>
          <td style="vertical-align: top;">ID<br />
          </td>
          <td>Feature<br />
          </td>
          <td>JMockit<br />
          </td>
          <td>Moles<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">1<br />
          </td>
          <td>Inject test doubles without changing the API<br />
          </td>
          <td>YES</td>
          <td>YES </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">2<br />
          </td>
          <td>Replace final/non-virtual functions with test doubles<br />
          </td>
          <td>YES </td>
          <td>YES </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">3<br />
          </td>
          <td>Replace static functions with test doubles<br />
</td>
          <td>YES </td>
          <td>YES </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">4<br />
          </td>
          <td style="vertical-align: top;">Replace constructors with test doubles<br />
          </td>
          <td style="vertical-align: top;">YES </td>
          <td style="vertical-align: top;">YES </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">5<br />
          </td>
          <td>Replace anonymous inner/nested classes with test doubles<br />
          </td>
          <td>NO<br />
          </td>
          <td>NA<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">6<br />
          </td>
          <td>Replace inaccessible (e.g., private) inner/nested classes with test doubles<br />
          </td>
          <td>NO </td>
          <td>NO </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">7<br />
          </td>
          <td style="vertical-align: top;">Replace subclass and superclass
            functions with test doubles<br />
          </td>
          <td style="vertical-align: top;">YES
          </td>
          <td style="vertical-align: top;">YES<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">8<br />
          </td>
          <td style="vertical-align: top;">Test doubles can delegate to real
            instance<br />
          </td>
          <td style="vertical-align: top;">YES </td>
          <td style="vertical-align: top;">YES<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">9<br />
          </td>
          <td style="vertical-align: top;">Hand-coded test doubles can be
            injected.<br />
          </td>
          <td style="vertical-align: top;">YES </td>
          <td style="vertical-align: top;">YES<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">10<br />
          </td>
          <td style="vertical-align: top;">Test double injection can be toggled<br />
          </td>
          <td style="vertical-align: top;">YES
          </td>
          <td style="vertical-align: top;">YES<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">11<br />
          </td>
          <td style="vertical-align: top;">Test double injection can be narrowly
            targeted<br />
          </td>
          <td style="vertical-align: top;">YES
          </td>
          <td style="vertical-align: top;">REDO -&gt; YES<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">12<br />
          </td>
          <td style="vertical-align: top;">Replace any implementation of
            an interface with a test double<br />
          </td>
          <td style="vertical-align: top;">NO<br />
          </td>
          <td style="vertical-align: top;">NO<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">13<br />
          </td>
          <td style="vertical-align: top;">Safely replace a class library class with a test double<br />
          </td>
          <td style="vertical-align: top;">NO<br />
          </td>
          <td style="vertical-align: top;">REDO -&gt; NO<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">14</td>
          <td style="vertical-align: top;">Inject async-friendly test doubles<br />
          </td>
          <td style="vertical-align: top;">YES<br />
          </td>
          <td style="vertical-align: top;">YES<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">15</td>
          <td>Inject thread-friendly test doubles<br />
          </td>
          <td>YES<br />
          </td>
          <td>NO<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">16</td>
          <td>Associate failed assertions in test doubles with test cases
            in the same thread<br />
          </td>
          <td>YES<br />
          </td>
          <td>YES<br />
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">17</td>
          <td>Associate failed assertions in test doubles with test cases
            in different threads</td>
          <td>NO<br />
          </td>
          <td>NO </td>
        </tr>
      </tbody>
    </table>
    <h2>Summary &amp; Analysis<br />
    </h2>
    <br />
  

</body></html>